# ayespex

This repo is used to demo different ways of scanning `.aspx` files. `aspx` files are markup files that are generated by .NET programs. They sport an HTML-like syntax and are used for generating web pages or doing other things. As such, they can contain inline JS via `<script>` tags. Like all other JS code, it may contain vulnerabilities.

## disclaimer

CodeQL does not currently support [aspx](https://codeql.github.com/docs/codeql-overview/supported-languages-and-frameworks/) files, so this workaround is not guaranteed to work in all scenarios. use at your own risk. Furthermore, all example workflows contained in this repository make certain assumptions, and any users of these workflows should review them carefully.

**Currently, the only way to guarantee accurate scanning of inline JS is to remove all inline JS and move these scripts to their own `.js` files**.

## modify aspx files and the resulting SARIF

One method of scanning `aspx` files with the CodeQL action is to add some additional steps to the default workflow. See [custom-codeql-action-aspx.yml](./.github/workflows/custom-codeql-action-aspx.yml) for the full workflow.

1. Modify all `aspx` files to have a `.html` extension ([using `find`](https://github.com/michael-scott-paper-company/ayespex/blob/main/.github/workflows/custom-codeql-action-aspx.yml#L43))
2. Perform the typical analysis, but ensure the [JS SARIF](https://github.com/michael-scott-paper-company/ayespex/blob/main/.github/workflows/custom-codeql-action-aspx.yml#L59) doesn't upload automatically
3. [Modify the resulting SARIF](https://github.com/michael-scott-paper-company/ayespex/blob/main/.github/workflows/custom-codeql-action-aspx.yml#L72) by stripping the `.html` extension
4. [Manually upload the now modified SARIF file](https://github.com/michael-scott-paper-company/ayespex/blob/main/.github/workflows/custom-codeql-action-aspx.yml#L80)

If done properly, the results will display under the code scanning alerts section of security overview while pointing to the correct file and correct line of code.



